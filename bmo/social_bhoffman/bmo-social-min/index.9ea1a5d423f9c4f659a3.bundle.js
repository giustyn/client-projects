/*! For license information please see index.9ea1a5d423f9c4f659a3.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunknavori_boilerplate=self.webpackChunknavori_boilerplate||[]).push([["index"],{612:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ 755);\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n\njquery__WEBPACK_IMPORTED_MODULE_0___default()(function () {\n  var $main = jquery__WEBPACK_IMPORTED_MODULE_0___default()("main");\n  var $slideTmp = jquery__WEBPACK_IMPORTED_MODULE_0___default()("#slide-template").children(0).clone();\n\n  function getContent(url) {\n    var deferred = jquery__WEBPACK_IMPORTED_MODULE_0___default().Deferred();\n    jquery__WEBPACK_IMPORTED_MODULE_0___default().ajax({\n      url: url\n    }).done(function (data) {\n      var items = data.Items.filter(function (item) {\n        return item.Provider === 26 && item.Images.length === 1 && item.Content;\n      }).sort(function (a, b) {\n        return new Date(b.CreatedDate).getTime() - new Date(a.CreatedDate).getTime();\n      });\n\n      if (window.localStorage) {\n        var lItems = JSON.parse(window.localStorage.getItem("bmo-social"));\n        window.localStorage.setItem("bmo-social", JSON.stringify(items));\n\n        if (lItems) {\n          return deferred.resolve(lItems);\n        }\n      }\n\n      return deferred.resolve(items);\n    }).fail(function (err) {\n      return deferred.reject(err);\n    });\n    return deferred.promise();\n  }\n\n  function init() {\n    getContent("https://kitchen.screenfeed.com/social/data/6w24z789gena94j8yt3728zgzw.json").done(iterateSlides); // revealer();\n  }\n\n  function createSlide(item) {\n    var $slide = $slideTmp.clone();\n    $slide.find(".slide-inner-left img").attr("src", item.Images[0].Url);\n    $slide.find(".socialicon img").attr("src", item.ProviderIcon);\n    $slide.find(".username").text(item.User.Name || "BMO");\n    $slide.find(".useraccount").text(item.User.Username);\n    $slide.find(".usericon img").attr("src", item.User.ProfileImageUrl || "./img/bmo-logo.svg");\n    $slide.find(".message").text(item.Content);\n    $slide.find(".published").text(item.DisplayTime);\n    $main.append($slide);\n    var messageElems = $slide.get(0).querySelectorAll(".message");\n    resizeText(messageElems);\n    isolateTag({\n      element: messageElems\n    });\n    $slide.addClass("slide-animate-in"); // setTimeout(() => {\n    //   $slide.addClass("slide-animate-in");\n    // }, 500);\n\n    setTimeout(function () {\n      $slide.remove();\n    }, 12000);\n  }\n\n  function preloadImage(src) {\n    var image = new Image();\n    image.src = src;\n  }\n\n  function iterateSlides(items) {\n    var index = 0;\n    preloadImage(items[index].Images[0].Url);\n    createSlide(items[index]);\n    index = index + 1;\n    setTimeout(function () {\n      preloadImage(items[index].Images[0].Url);\n    }, 3000);\n    var interval = setInterval(function () {\n      if (index < 3) {\n        preloadImage(items[index + 1].Images[0].Url); // revealer();\n\n        createSlide(items[index]);\n        index = index + 1;\n      } else {\n        clearInterval(interval);\n      }\n    }, 10000);\n  }\n\n  function revealer() {\n    jquery__WEBPACK_IMPORTED_MODULE_0___default()(".revealer").addClass("revealer-animate-in").delay(2000).queue(function () {\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).removeClass("revealer-animate-in").dequeue();\n    });\n  }\n\n  var isOverflown = function isOverflown(_ref) {\n    var clientHeight = _ref.clientHeight,\n        scrollHeight = _ref.scrollHeight;\n    return scrollHeight > clientHeight;\n  };\n\n  var resizeText = function resizeText(elements) {\n    var minSize = 0.5;\n    var maxSize = 2.5;\n    var step = 0.01;\n    var unit = "em";\n    elements.forEach(function (el) {\n      var i = minSize;\n      var overflow = false;\n      var parent = el.parentNode;\n\n      while (!overflow && i < maxSize) {\n        el.style.fontSize = "".concat(i).concat(unit);\n        overflow = isOverflown(parent);\n        if (!overflow) i += step;\n      } // revert to last state where no overflow happened\n\n\n      el.style.fontSize = "".concat(i - step).concat(unit);\n    });\n  };\n\n  var isolateTag = function isolateTag(_ref2) {\n    var element = _ref2.element,\n        elements = _ref2.elements;\n    (elements || [element]).forEach(function (el) {\n      var hashTag = jquery__WEBPACK_IMPORTED_MODULE_0___default()(el).last().html().replace(/(^|\\s)(#[a-z\\d-]+)/gi, "$1<span class=\'hashtag\'>$2</span>");\n      jquery__WEBPACK_IMPORTED_MODULE_0___default()(el).last().html(hashTag);\n    });\n  };\n\n  init();\n});\n\n//# sourceURL=webpack://navori-boilerplate/./src/js/index.js?')},372:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://navori-boilerplate/./src/styles/index.css?")}},e=>{var n=n=>e(e.s=n);e.O(0,["vendors"],(()=>(n(612),n(372)))),e.O()}]);